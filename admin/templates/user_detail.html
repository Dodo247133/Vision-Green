{% extends "admin_base.html" %}
{% block title %}User Details - Vision Green{% endblock %}
{% block page_title %}User Details{% endblock %}

{% block content %}
<div class="user-detail-container">
    <div class="user-profile-card">
        <div class="profile-header">
            <img src="{{ url_for('static', filename='uploads/' + user.face_id) }}" alt="User Photo" class="profile-photo">
            <h3>{{ user.name }} {{ user.surname }}</h3>
            <p>{{ user.aadhar_id }}</p>
        </div>
        <div class="profile-details">
            <p><strong>Points:</strong> {{ user.points }}</p>
            <p><strong>Joined:</strong> {{ user.join_date }}</p>
        </div>
    </div>

    <div class="user-activity">
        <h3>Disposal History</h3>
        <table>
            <thead>
                <tr>
                    <th>Timestamp</th>
                    <th>Trash Type</th>
                    <th>Points Awarded</th>
                </tr>
            </thead>
            <tbody>
                {% for footage in disposal_footages %}
                    <tr>
                        <td>{{ footage.timestamp }}</td>
                        <td>{{ footage.trash_type }}</td>
                        <td class="{% if footage.points_awarded > 0 %}points-positive{% else %}points-negative{% endif %}">{{ footage.points_awarded }}</td>
                    </tr>
                {% else %}
                    <tr>
                        <td colspan="3">No disposal history found.</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}